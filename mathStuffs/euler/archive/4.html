<!DOCTYPE HTML>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="style.css">
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
		  MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
		</script>
		<script type="text/javascript"
		  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
		</script>
		<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
		<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
	</head>
	<body>
		<div id="text">
				<div class="sequence">
				<a href="3.html">previous</a> /
				<a href="5.html">next</a></div>
				<h3>Swapping Numbers</h3>
				<h5>from Cracking the Coding Interview</h5>
			<div class="question">
				<p>Write a function to swap a number in place without temporary variables.</p>
			</div>
			<div class="answer">
				<p>One way to do this is to use arithmetic.</p>
			</div>
	<h4>Ruby</h4>
<div class="code">
<pre><code class="prettyprint">def swap(a, b)
    a = a+b
    b = a-b
    a = a-b
    puts("#{a} #{b}")
end</code></pre>
</div>
			<div class="answer">
				<p>But in binary, we can use another type of operation to obtain the same effect: XOR. Given two binary numbers $a$ and $b$, $a\mathbin{\oplus}b$ is similar to $a+b$ up to the carry. That is, if $a=1$ and $b=0$, $a\mathbin{\oplus}b = a+b = 1$; but if $a=1$ and $b=1$, $a\mathbin{\oplus}b = 0$ while $a+b = 10$.</p>
				<p>Because we discarded the carry, when we try to retrieve the original values we also need to omit borrows as in the subtractions. To do so, we can also use XOR. Indeed, this operation is "similar" to addition and subtraction. More formally, take any number $y$, create a function $f(x) = x\mathbin{\oplus}y$; and $f$ is self-inverse, i.e.: $f = f^{-1}$ as $x = x\mathbin{\oplus}y\mathbin{\oplus}y = f(f(x))$ (which is similar to $x = x+y-y$.) This property allows us to XOR two numbers, and then XOR the result with one of the original number to get back the other.</p>
			</div>
	<h4>Ruby</h4>
<div class="code">
<pre><code class="prettyprint">def swapp(a, b)
    a = a^b
    b = a^b
    a = a^b
    puts("#{a} #{b}")
end</code></pre>
</div>
			<div class="answer">
				<p>This algorithm can be also useful for reversing strings.</p>
			</div>
	<h4>Ruby</h4>
<div class="code">
<pre><code class="prettyprint">def reverse(str)
    $l = str.length
    for i in 0..$l/2 do
        str[i] = str[i]^str[$l-i-1]
        str[$l-i-1] = str[i]^str[$l-i-1]
        str[i] = str[i]^str[$l-i-1]
    end
    return str
end

puts(reverse("wahahahahha!~~~"))</code></pre>
</div>
			<br>
			<div class="sequence">
				<span class="date">Dec 29, 2014 ~ </span>
				<a href="3.html">previous</a> / <a href="5.html">next</a>
			</div>
			<br>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = '3archproj';
    var disqus_identifier = '00004';
    var disqus_title = 'Swapping Numbers';
    var disqus_url = 'http://ytixu.github.io/HTMLdump/mathStuffs/euler/archive/4.html';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
		</div>
	</body>
	<script src="script.js"> </script>
</html>
