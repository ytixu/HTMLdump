<!DOCTYPE HTML>
<html data-ng-app>	
<head>
	<title>foodXhack</title>
	<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?lang=ml&lang=scm&lang=hs"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
	<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'> -->
	<link type="text/css" rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	<link type="text/css" rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" />
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body class="container">
	<header>
		<menu>
			<menuitem><a id="share-btn">SHARE YOURS</a></menuitem>
			<menuitem><a id="about-btn">ABOUT</a></menuitem>
		</menu>
		<div id="header-extension" class="content"></div>
		<div id="header-banner"></div>
		<hr>
		<a href="index.html" class="titleLink"><h1 class="title">food<img src="images/logo.png" style="margin-top:-8px;">hack</h1></a>
	</header>
	<main ng-view>
		<div data-ng-controller="recipesCtrl">
			<div class="recipesContainer col-md-4" data-ng-repeat="rec in recipesData" ng-init="$last ? refresh() : null">
				<h3>{{ rec.name }}</h3>
				<div class="content">
					<img src="images/{{ rec.img }}" class="dishPic">
					<div class='share-btn-container'><i id="{{rec.name}}" class="fa fa-twitter share-btn" data-text="{{rec.name}} looks so damn good #foodXhack"></i></div>
				</div>
				<p>{{ rec.desc }}</p>
			</div>
		</div>
	</main>
	<footer>

	</footer>
	<script src= "script.js"></script>
	<script>
		function recipesCtrl($scope) {
	        $scope.recipesData = recipes;

	        var header = false;
	        $(function(){
	        	$("#about-btn").click(function(){
	        		header = true;
	        		$("#header-extension").finish();
	        		$("#header-extension").slideUp("fast", 
        				function(){
        					$(this).html(aboutPage.desc);
        					$(this).slideDown("fast")
        				});
	        	});
	        	$("header").on('mouseout', function(){
	        		if (!header) return;
	        		header = false;
	        		$("#header-extension").finish();
	        		$("#header-extension").slideUp("slow");
	        	});
	        });

	        $scope.refresh = function() {
					window.setTimeout(function(){
						$('.recipesContainer').each(function(){
							$(this).hover(function(){
								$(this).find('div.share-btn-container').finish();
								$(this).find('div.share-btn-container').animate({
									'height':'40px',
									'margin-top':'-50px',
									'padding':'10px'
								}, 200, function(){
									$(this).find('i.share-btn').fadeIn('fast');
								});
							}, function(){
								$(this).find('div.share-btn-container').finish();
								$(this).find('i.share-btn').finish();
								$(this).find('i.share-btn').css('display', 'none');
								$(this).find('div.share-btn-container').animate({
									'height':'0px',
									'margin-top':'0px',
									'padding':'0px'
								}, 150);
							});
						});
						$('.fa-twitter').each(function(){
					    	$(this).click(function(){
					    		window.open('https://twitter.com/intent/tweet?text='
					    			+ encodeURIComponent($(this).data("text") + " " 
					    			+ window.location.href ), '', 'width=500,height=350');
					    	});
					    	
					    });
					}, 500);
				};
	    }

	    
	</script>
</body>
</html>